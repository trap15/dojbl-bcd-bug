<!DOCTYPE html>
<html>
<head>
	<title>大往生　最後蜂バグ</title>
	<meta charset="utf-8"/>
</head>

<body>
<form id="form">
<label>Stage</label><select id="stage">
  <option value="0">1-1</option>
  <option value="1">1-2</option>
  <option value="2">1-3</option>
  <option value="3">1-4</option>
  <option value="4">1-5</option>
  <option value="5">2-1</option>
  <option value="6">2-2</option>
  <option value="7">2-3</option>
  <option value="8">2-4</option>
  <option value="9">2-5</option>
</select><br/>
<label>Last Bee</label><input id="lastbee" type="checkbox" value="1"><br/>
<label>Hits</label><input id="hits" type="number" value="1000"><br/>
<button id="submit" type="button">Submit</button>
</form>
<table>
  <tr>
    <th>Expected</th>
    <td id="proper"></td>
  </tr>
  <tr>
    <th>Reality</th>
    <td id="withbug"></td>
  </tr>
</table>

<script>
function addCommas(x) {
  return x.replace(/\B(?<!\.[0-9A-Fa-f]*)(?=([0-9A-Fa-f]{3})+(?![0-9A-Fa-f]))/g, ",");
}

document.getElementById("submit").addEventListener("click", function() {
  var stage = parseInt(document.getElementById("stage").value.trim());
  var hits = parseInt(document.getElementById("hits").value.trim());
  var last_bee = 0;
  if(document.getElementById("lastbee").checked) last_bee = 1;

  var correct = hits * (stage + 1) * 1000;
  if(last_bee) correct *= 2;
  var bugged = "1F337";

  document.getElementById("proper").innerHTML = addCommas(correct.toString());
  document.getElementById("withbug").innerHTML = addCommas(bugged);
});
</script>
</body>
</html>

